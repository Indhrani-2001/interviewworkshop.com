<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advertisement</title>
    <link rel="stylesheet" href="../CSS/index2.css">
    <style>
        #submitButton {
            display: none; /* Hide submit button initially */
        }
    </style>
</head>
<body>
    <div id="outer-container">
        <video id="myVideo" muted>
            <source src="../IMAGES/videos.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <div id="controls">
            <button id="playButton">Start</button>
            <button id="pauseButton">Pause</button>
        </div>
        <a id="submitLink" href="https://docs.google.com/forms/d/e/1FAIpQLSdRkV6e-I6LQqWRaHrDsZ5wbOZ89IOA6lODuUqvhF7Tri9oJQ/viewform?usp=sf_link">
            <button id="submitButton">Submit</button>
        </a>
        <div id="timer">00:00</div>
        <h2>* Avoid phone calls and messages for next 49 mins.(* அடுத்த 49 நிமிடங்களுக்கு தொலைபேசி அழைப்புகள் மற்றும் செய்திகளைத் தவிர்க்கவும்.)</h2>
    </div>
    <script>
        const video = document.getElementById('myVideo');
        const playButton = document.getElementById('playButton');
        const pauseButton = document.getElementById('pauseButton');
        const timer = document.getElementById('timer');
        const submitButton = document.getElementById('submitButton');
        let videoEnded = false;

        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
        }

        function updateTimer() {
            const currentTime = video.currentTime;
            timer.textContent = formatTime(currentTime);
        }

        playButton.onclick = function() {
            if (videoEnded) {
                location.reload(); // Refresh the page if the video has ended
            } else {
                video.play();
            }
        };

        pauseButton.onclick = function() {
            video.pause();
        };

        video.addEventListener('timeupdate', updateTimer);

        video.addEventListener('ended', function() {
            submitButton.style.display = 'block'; // Show the submit button when video ends
            videoEnded = true; // Set the flag indicating the video has ended
        });
    </script>
</body>
</html>
